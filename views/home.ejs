<%- include('partials/header') %>

<header class="w-full bg-green-600 text-white">
  <div class="max-w-6xl mx-auto flex justify-between items-center py-4 px-6">
    <h1 class="text-xl font-bold">My App</h1>
    <nav class="space-x-6">
      <a href="/sign" class="hover:underline">Sign</a>
      <%  if (admin) { %>
      <a href="/logout" class="hover:underline">Logout</a>
      <% } else {%>
      <a href="/login" class="hover:underline">Login</a>
      <%}%>

    </nav>
  </div>
</header>

<main class="max-w-6xl mx-auto mt-10">
  <div class="flex justify-between my-3 px-2 items-center">
    <div>
      <p class="font-semibold text-2xl">Products List</p>
    </div>
    <div class="bg-blue-700 text-white py-2 px-3 rounded-md">
      <a href="/product/add-product">Add Product</a>
    </div>
  </div>
  <div class="relative overflow-x-auto bg-neutral-primary-soft shadow-xs rounded-base border border-gray-300 rounded-md  border-default">
    <table class="w-full text-sm text-left rtl:text-right text-body">
      <thead class="text-sm text-body bg-neutral-secondary-medium border-b border-default-medium">
        <tr>
          <th scope="col" class="px-6 py-3 font-medium">Product name</th>
          <th scope="col" class="px-6 py-3 font-medium">Category</th>
          <th scope="col" class="px-6 py-3 font-medium">Price</th>
          <th scope="col" class="px-6 py-3 font-medium">description</th>
          <th scope="col" class="px-6 py-3 font-medium text-center">Action</th>
        </tr>
      </thead>
      <tbody>
    <% data.forEach((item) => { %>
      <tr class="bg-neutral-primary-soft border-default" id="row-<%= item._id %>">
        <th scope="row" class="px-6 py-4 font-medium text-heading whitespace-nowrap">
          <%= item.productName %>
        </th>
        <td class="px-6 py-4">
          <%= item.category %>
        </td>
        <td class="px-6 py-4">
          $<%= item.price %>
        </td>
        <td class="px-6 py-4">
          <%= item.productDetails %>
        </td>
        <td class="px-6 py-4 flex justify-between">
          <div class="font-medium text-fg-brand cursor-pointer" onclick="showSingleData('<%= item._id %>')">Show</div>
          <a href="/product/edit/<%= item._id %>" class="font-medium text-fg-brand hover:underline">Edit</a>
          <a  onclick="DeleteItem('<%= item._id %>')" class="font-medium text-fg-brand cursor-pointer">Delete</a>
        </td>
      </tr>
      <% }) %>

      </tbody>
      </table>
  </div>

  </main>

  <div id="ShowSingleDataCard" class="fixed inset-0 bg-[rgba(0,0,0,0.4)] hidden items-center justify-center">

    <div id="modalContent" class="bg-white p-5 rounded-md w-[350px] relative">

      <div id="closeBtn" class="absolute top-2 right-3 cursor-pointer text-xl">âœ–</div>

      <div id="modalBody"></div>

    </div>
  </div>

  <script src="/js/home.js"></script>
  <%- include('partials/footer') %>